# Pre-commit hooks for .github-private repository
# Documentation: https://pre-commit.com/

repos:
  # Standard pre-commit hooks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: trailing-whitespace
        exclude: '^(README\.md|LICENSE)$'
      - id: end-of-file-fixer
        exclude: '^(README\.md|LICENSE)$'
      - id: check-yaml
      - id: check-added-large-files
        args: ['--maxkb=1000']
      - id: check-merge-conflict
      - id: mixed-line-ending
        exclude: '^(README\.md|LICENSE)$'

  # Local hooks specific to this repository
  - repo: local
    hooks:
      # Prevent committing Terraform files
      - id: no-terraform-files
        name: Block Terraform files (.tf)
        entry: Terraform files (.tf) should not be committed to .github-private repo
        language: fail
        files: '\.tf$'

      # Prevent committing binaries and archives
      - id: no-binaries
        name: Block binary and archive files
        entry: Binary/archive files should not be committed to .github-private repo
        language: fail
        files: '\.(tar|gz|zip|bin|exe|dll|so|dylib)$'

      # Prevent modifying LICENSE
      - id: protect-license
        name: Protect LICENSE file from modifications
        entry: LICENSE must not be modified - it is protected by pre-commit hooks
        language: fail
        files: '^LICENSE$'
        stages: [pre-commit, pre-push, pre-merge-commit]

      # Prevent modifying README.md
      - id: protect-readme
        name: Protect README.md file from modifications
        entry: README.md must not be modified - it is protected by pre-commit hooks
        language: fail
        files: '^README\.md$'
        stages: [pre-commit, pre-push, pre-merge-commit]
